# Define the server block
server {
  # Listen on port 80, the default HTTP port
  listen 80;

  # Define the root directory for serving files
  # This matches the directory in your Dockerfile
  root /usr/share/nginx/html;

  # Always serve index.html for any directory request
  index index.html;

  # Main location block to handle all requests
  location / {
    # This is the key part for a SPA:
    # First, try to serve the request as a file (e.g., /logo.png)
    # If not found, try it as a directory (e.g., /static/)
    # If that also fails, fall back to serving /index.html
    # This lets React Router handle the deep link.
    try_files $uri $uri/ /index.html;
  }
}